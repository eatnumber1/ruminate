.PHONY: util/all util/clean util/depclean util/install

util/all: $(LIBRUMINATE_JANSSON)

util/clean:
	$(RM) $(UTIL_OBJECTS) $(LIBRUMINATE_JANSSON) $(UTIL_PKG_CONFIG_FILES)

util/depclean:
	$(RM) $(UTIL_DEPS)

util/install: $(UTIL_PKG_CONFIG_FILES) $(LIBRUMINATE_JANSSON)
	$(INSTALL) -d $(PREFIX)/lib
	$(INSTALL) $(LIBRUMINATE_JANSSON) $(PREFIX)/lib
	$(INSTALL) -d $(PREFIX)/lib/pkgconfig
	$(INSTALL) $(UTIL_PKG_CONFIG_FILES) $(PREFIX)/lib/pkgconfig

$(LIBRUMINATE_JANSSON): $(UTIL_OBJECTS)
$(LIBRUMINATE_JANSSON): SO_OBJECTS := $(UTIL_OBJECTS)
$(LIBRUMINATE_JANSSON): FLAGS_LINKER := $(UTIL_FLAGS_LINKER) $(FLAGS_LINKER)
$(LIBRUMINATE_JANSSON): FLAGS_PREPROC_AND_COMPILER_C := $(LIBRUMINATE_JANSSON_FLAGS_PREPROC_AND_COMPILER_C) $(FLAGS_PREPROC_AND_COMPILER_C)
$(LIBRUMINATE_JANSSON): FLAGS_PREPROC_AND_COMPILER_CXX := $(LIBRUMINATE_JANSSON_FLAGS_PREPROC_AND_COMPILER_CXX) $(FLAGS_PREPROC_AND_COMPILER_CXX)

-include $(UTIL_DEPS)
