.PHONY: ice/all ice/clean ice/depclean

ice/all: $(ICE_PY_SOURCES)

ice/clean:
	$(RM) $(ICE_CPP_SOURCES) $(ICE_OBJECTS) $(ICE_PY_SOURCES)

ice/depclean:
	$(RM) $(ICE_DEPS) $(ICE_HEADERS)

$(ICE_CPP_SOURCES) $(ICE_HEADERS): FLAGS_SLICE2CPP := $(ICE_FLAGS_SLICE) $(ICE_FLAGS_SLICE2CPP) $(FLAGS_SLICE) $(FLAGS_SLICE2CPP)
$(ICE_PY_SOURCES): FLAGS_SLICE2PY := $(ICE_FLAGS_SLICE) $(ICE_FLAGS_SLICE2PY) $(FLAGS_SLICE) $(FLAGS_SLICE2PY)

#$(ICE_OBJECTS): FLAGS_COMPILER_CXX := -g -fno-omit-frame-pointer -O0 -fno-optimize-sibling-calls -fPIC -fvisibility=hidden -stdlib=libc++
#$(ICE_OBJECTS): FLAGS_PREPROCESSOR_CXX := -I$(ICEDIR) -nostdinc++ -I$(HOME)/Sources/libcxx/include
#$(ICE_OBJECTS): FLAGS_PREPROC_AND_COMPILER_CXX := -w

$(ICE_OBJECTS): FLAGS_PREPROCESSOR_CXX := $(FLAGS_PREPROCESSOR_CXX) $(ICE_FLAGS_PREPROCESSOR)

-include $(ICE_DEPS)
